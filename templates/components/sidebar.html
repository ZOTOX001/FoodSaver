<!-- Standardized Sidebar Navigation -->
<aside
    class="w-64 border-r border-[#e7f3e7] dark:border-white/10 bg-white dark:bg-zinc-900 flex flex-col h-[calc(100vh-64px)] hidden lg:flex sticky top-16">
    <div class="flex flex-col gap-6 p-6">
        <!-- User Profile Card -->
        <div class="flex items-center gap-3 pb-6 border-b border-[#e7f3e7] dark:border-white/10">
            <div
                class="size-10 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold text-lg border border-primary/20">
                {{ user.username|slice:":1"|upper }}
            </div>
            <div class="flex flex-col">
                <h3 class="font-bold text-sm text-[#0d1b0d] dark:text-white leading-none">{{
                    user.username|truncatechars:12 }}</h3>
                <p class="text-xs text-primary font-medium mt-1 uppercase tracking-wider">{{
                    user.get_role_display|default:"User" }}</p>
            </div>
        </div>

        <!-- Navigation Links -->
        <nav class="flex flex-col gap-2 flex-1">
            {% with request.resolver_match.url_name as url_name %}

            {% if user.role == 'donor' %}
            <!-- Donor Links -->
            <a href="{% url 'donor_dashboard' %}"
                class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-semibold transition-all {% if 'dashboard' in url_name and 'admin' not in url_name %}bg-primary text-[#0d1b0d] shadow-md shadow-primary/20{% else %}text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-white/5 hover:text-[#0d1b0d] dark:hover:text-white{% endif %}">
                <span class="material-symbols-outlined">dashboard</span>
                Dashboard
            </a>
            <a href="{% url 'create_listing' %}"
                class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-semibold transition-all {% if 'create_listing' in url_name %}bg-primary text-[#0d1b0d] shadow-md shadow-primary/20{% else %}text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-white/5 hover:text-[#0d1b0d] dark:hover:text-white{% endif %}">
                <span class="material-symbols-outlined">add_circle</span>
                Post Food
            </a>
            {% elif user.role == 'claimant' %}
            <!-- Claimant Links -->
            <a href="{% url 'claimant_dashboard' %}"
                class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-semibold transition-all {% if 'dashboard' in url_name %}bg-primary text-[#0d1b0d] shadow-md shadow-primary/20{% else %}text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-white/5 hover:text-[#0d1b0d] dark:hover:text-white{% endif %}">
                <span class="material-symbols-outlined">map</span>
                Find Food
            </a>
            {% endif %}

            <!-- Common Links -->
            <a href="{% url 'admin_dashboard' %}"
                class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-semibold transition-all {% if 'analytics' in url_name %}bg-primary text-[#0d1b0d] shadow-md shadow-primary/20{% else %}text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-white/5 hover:text-[#0d1b0d] dark:hover:text-white{% endif %}">
                <span class="material-symbols-outlined">analytics</span>
                Impact & Stats
            </a>

            <!-- Settings / Spacer -->
            <div class="mt-auto"></div>

            <form action="{% url 'logout' %}" method="post">
                {% csrf_token %}
                <button type="submit"
                    class="w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-semibold text-slate-600 dark:text-slate-400 hover:bg-red-50 hover:text-red-500 transition-all text-left">
                    <span class="material-symbols-outlined">logout</span>
                    Logout
                </button>
            </form>
            {% endwith %}
        </nav>
    </div>
</aside>